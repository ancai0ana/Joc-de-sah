<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="{{url_for('static', filename='w3a.css')}}">
  <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}">
  <link rel="stylesheet" href="{{url_for('static', filename='w3b.css')}}">
  <link rel="stylesheet" href="{{url_for('static', filename='w3c.css')}}">
  <link rel="stylesheet" href="{{url_for('static', filename='w3d.css')}}">
  <link rel="stylesheet" href="{{url_for('static', filename='bootstrap.css')}}">
  <title>Joc de sah</title>
</head>

<body>
  <div class="container">
    <div class="row">
      <br />
      <br />
    </div>

    <div class="row">
      <div class="col-sm-1">
        <div class="numbers numbers2">
          <p class="num0">7</p>
          <p class="num1">6</p>
          <p class="num2">5</p>
          <p class="num3">4</p>
          <p class="num4">3</p>
          <p class="num5">2</p>
          <p class="num6">1</p>
          <p class="num7">0</p>
        </div>
      </div>
      <div class="col-sm-5">
        <table border="1">
          <tbody>
            <tr>
              <td id="07"></td>
              <td id="17" class="box1"></td>
              <td id="27"></td>
              <td id="37" class="box1"></td>
              <td id="47"></td>
              <td id="57" class="box1"></td>
              <td id="67"></td>
              <td id="77" class="box1"></td>
            </tr>
            <tr>
              <td id="06" class="box1"></td>
              <td id="16"></td>
              <td id="26" class="box1"></td>
              <td id="36"></td>
              <td id="46" class="box1"></td>
              <td id="56"></td>
              <td id="66" class="box1"></td>
              <td id="76"></td>
            </tr>
            <tr>
              <td id="05"></td>
              <td id="15" class="box1"></td>
              <td id="25"></td>
              <td id="35" class="box1"></td>
              <td id="45"></td>
              <td id="55" class="box1"></td>
              <td id="65"></td>
              <td id="75" class="box1"></td>
            </tr>
            <tr>
              <td id="04" class="box1"></td>
              <td id="14"></td>
              <td id="24" class="box1"></td>
              <td id="34"></td>
              <td id="44" class="box1"></td>
              <td id="54"></td>
              <td id="64" class="box1"></td>
              <td id="74"></td>
            </tr>
            <tr>
              <td id="03"></td>
              <td id="13" class="box1"></td>
              <td id="23"></td>
              <td id="33" class="box1"></td>
              <td id="43"></td>
              <td id="53" class="box1"></td>
              <td id="63"></td>
              <td id="73" class="box1"></td>
            </tr>
            <tr>
              <td id="02" class="box1"></td>
              <td id="12"></td>
              <td id="22" class="box1"></td>
              <td id="32"></td>
              <td id="42" class="box1"></td>
              <td id="52"></td>
              <td id="62" class="box1"></td>
              <td id="72"></td>
            </tr>
            <tr>
              <td id="01"></td>
              <td id="11" class="box1"></td>
              <td id="21"></td>
              <td id="31" class="box1"></td>
              <td id="41"></td>
              <td id="51" class="box1"></td>
              <td id="61"></td>
              <td id="71" class="box1"></td>
            </tr>
            <tr>
              <td id="00" class="box1"></td>
              <td id="10"></td>
              <td id="20" class="box1"></td>
              <td id="30"></td>
              <td id="40" class="box1"></td>
              <td id="50"></td>
              <td id="60" class="box1"></td>
              <td id="70"></td>
            </tr>

          </tbody>
        </table>
        <p class="numbers"> &nbsp&nbsp&nbsp&nbsp&nbsp0 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp1 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp2 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp3
          &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp4 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp5 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp6 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp7
        </p>

      </div>
      <div class="col-sm-5">

        <div class="w3-panel w3-card-2 w3-safety-red w3-round-large">
          <p class="w3-xxlarge w3-center w3-wide">Chess</p>
        </div>
        <br />
        <br />
        <br />

        <div class="w3-card-4 w3-round-large">

          <form class="w3-container" action="." method="POST">
            <div class="w3-row-padding">
              <br />
              <div class="w3-half">
                <p>
                  <label class="w3-text-black">
                    <b>Which pawn you move?</b>
                  </label>
                  <input class="w3-input w3-border w3-sand w3-round" name="xi" type="text" placeholder="x:">
                </p>
              </div>
              <div class="w3-half down1">
                <p>
                  <label class="w3-text-black"></label>
                  <input class="w3-input w3-border w3-sand w3-round " name="yi" type="text" placeholder="y:">
                </p>
              </div>
            </div>

            <div class="w3-row-padding">
              <div class="w3-half">
                <p>
                  <label class="w3-text-black">
                    <b>Where?</b>
                  </label>
                  <input class="w3-input w3-border w3-sand w3-round" name="xf" type="text" placeholder="x:">
                </p>
              </div>
              <div class="w3-half down2">
                <p>
                  <label class="w3-text-black"></label>
                  <input class="w3-input w3-border w3-sand w3-round" name="yf" type="text" placeholder="y:">
                </p>

              </div>
            </div>
            <p>
              <center>
                <button class="w3-btn  w3-safety-red button1 w3-round-large ">
                  <b>Send</b>
                </button>
              </center>
            </p>

          </form>

        </div>
        <br />
        <div class="w3-row-padding">
          <div class="w3-half">
            <div class="w3-panel w3-card-2  w3-sand w3-round-xlarge">
              <div class="w3-xlarge">
                <center>
                  <p id="880a" style="display:inline-block;">0 </p>
                  <p style="display:inline-block;">x</p>
                  <p style="display:inline-block;">
                    <img src="{{url_for('static', filename='white.png')}}" alt="pion alb" class="pion">
                  </p>
                  <p id="880" class="hide"></p>
                </center>
              </div>
            </div>
          </div>

          <div class="w3-half">
            <div class="w3-panel w3-card-2  w3-sand w3-round-xlarge">
              <div class="w3-xlarge">
                <center>
                  <p id="881a" style="display:inline-block;">0 </p>
                  <p style="display:inline-block;">x</p>
                  <p style="display:inline-block;">
                    <img src="{{url_for('static', filename='black.png')}}" alt="pion negru" class="pion">
                  </p>
                  <p id="881" class="hide"></p>
                </center>
              </div>
            </div>
          </div>
        </div>


        <ul id="m_x" class="hide">
          {% for m in stare_op %}
          <li>{{m.x}}</li>
          {% endfor %}
        </ul>

        <ul id="m_y" class="hide">
          {% for m in stare_op %}
          <li>{{m.y}}</li>
          {% endfor %}
        </ul>

        <ul id="b_x" class="hide">
          {% for b in starea_mea %}
          <li>{{b.x}}</li>

          {% endfor %}
        </ul>

        <ul id="b_y" class="hide">
          {% for b in starea_mea %}
          <li>{{b.y}}</li>
          {% endfor %}
        </ul>

      </div>
      <div class="col-sm-1"></div>
    </div>
  </div>
</body>

</html>
<script>
  //  var id_sters='00';
  //   var id_unde_mut='01';
  //   MutarePion(id_unde_mut,id_sters);
  // id_sters=id_unde_mut;
  // id_unde_mut='20';
  // MutarePion(id_unde_mut,id_sters);
  // id_sters=id_unde_mut;
  // id_unde_mut='23';
  // MutarePion(id_unde_mut,id_sters);

  var vect_me_x = [];
  for (var i = 0; i <= 7; i++)
    vect_me_x[i] = document.getElementById("m_x").children[i].textContent;
  //var a=document.getElementById("m_x").children[1].textContent;
  //document.write(vect_bot_x[i]);}

  var vect_me_y = [];
  for (var j = 0; j <= 7; j++)
    vect_me_y[j] = document.getElementById("m_y").children[j].textContent;
  //document.write(vect_me_y[j]);}

  for (var k = 0; k <= 7; k++) {
    var n = vect_me_x[k].concat(vect_me_y[k]);
    //document.write(n);
    if (n != '88') {
      var elem = document.createElement("img");
      elem.setAttribute("src", "{{url_for('static', filename='white.png')}}");
      elem.setAttribute("class", "pion");
      elem.setAttribute("alt", "pion alb");
      var ouput = document.getElementById(n).appendChild(elem);
    }
    else {
      var elem = document.createElement("img");
      elem.setAttribute("src", "{{url_for('static', filename='white.png')}}");
      elem.setAttribute("class", "pion");
      elem.setAttribute("alt", "pion alb");

      var cwhite = n.concat(0);
      ouput = document.getElementById(cwhite).appendChild(elem);
      var con = cwhite.concat('a');
      document.getElementById(con).textContent = document.getElementById(cwhite).childElementCount;
      //document.write(l);
      //document.white(con);
    }
  }


  //botul:
  var vect_bot_x = [];
  for (var i = 0; i <= 7; i++)
    vect_bot_x[i] = document.getElementById("b_x").children[i].textContent;
  //var a=document.getElementById("m_x").children[1].textContent;
  //document.write(vect_me_x[i]);}

  var vect_bot_y = [];
  for (var j = 0; j <= 7; j++) {
    var el = document.getElementById("b_y").children[j].textContent;
    if (el != "8")
      vect_bot_y[j] = 7 - el;
    else
      vect_bot_y[j] = 8;
  }
  // document.write(vect_bot_y[j]);}

  for (var k = 0; k <= 7; k++) {
    var a = vect_bot_x[k].concat(vect_bot_y[k]);
    if (a != '88') {
      //console.log(a);
      var elem = document.createElement("img");
      elem.setAttribute("src", "{{url_for('static', filename='black.png')}}");
      elem.setAttribute("class", "pion");
      elem.setAttribute("alt", "pion negru");
      var ouput = document.getElementById(a).appendChild(elem);
    }
    else {
      document.write("se sterge");
      var elem = document.createElement("img");
      elem.setAttribute("src", "{{url_for('static', filename='black.png')}}");
      elem.setAttribute("class", "pion");
      elem.setAttribute("alt", "pion negru");
      var ouput = document.getElementById(a).appendChild(elem);

      var cblack = a.concat(1);
      ouput = document.getElementById(cblack).appendChild(elem);
      var con = cwhite.concat('a');
      document.getElementById(con).textContent = document.getElementById(cblack).childElementCount;
    }
  }



    // function MutarePion(id_unde_mut,id_sters){
    //     if(document.getElementById(id_unde_mut).childElementCount==0)
    //     {var elem=document.createElement("img");
    //     elem.setAttribute("src","white.png");
    //     elem.setAttribute("class","pion");
    //     elem.setAttribute("alt","pion alb");
    //     var ouput=document.getElementById(id_unde_mut).appendChild(elem);

    //     var elem2=document.getElementById(id_sters);
    //     var output=elem2.removeChild(elem2.childNodes[0]);
    //     }
    //     else
    //    // var verificare=document.getElementById(id_unde_mut).childNodes[0]
    //    // document.getElementById("done").innerHTML = verificare;
    //     //if(document.getElementById(id_unde_mut).childNodes[0].getAtribute("alt")==="white.png")
    //     document.getElementById("done").innerHTML = "Te rog sa introduci o mutare valida";
    //     // else
    //     // document.getElementById("done").innerHTML = "nu-i bun";
    // }

</script>